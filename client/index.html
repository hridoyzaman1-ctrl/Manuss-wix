<!doctype html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5, user-scalable=yes" />
    <title>AIM Centre 360</title>
    
    <!-- DNS Prefetch for external resources -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    
    <!-- Preconnect to Font Services -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Critical Resource Preloading for Instant Load -->
    <!-- Preload Hero Images - Highest Priority -->
    <link rel="preload" href="/images/hero/panel-1-texture.webp" as="image" type="image/webp" fetchpriority="high" />
    <link rel="preload" href="/images/hero/panel-4-books.webp" as="image" type="image/webp" fetchpriority="high" />
    <link rel="preload" href="/images/hero/book-pages-hands.webp" as="image" type="image/webp" fetchpriority="high" />
    
    <!-- Preload Dark Mode Texture (lower priority) -->
    <link rel="preload" href="/images/hero/panel-1-texture-dark.webp" as="image" type="image/webp" />
    
    <!-- Preload Hero Video -->
    <link rel="preload" href="/images/hero/hero-video.mp4" as="video" type="video/mp4" />
    
    <!-- Preload Critical Fonts -->
    <link rel="preload" href="https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC1C4G-EiAou6Y.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvUDQZNLo_U2r.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Load Fonts with display=swap for instant text rendering -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Montserrat:wght@200;300;400;500;600;700&family=Hind+Siliguri:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />
    
    <!-- Inline Critical CSS for Instant First Paint -->
    <style>
      /* Critical CSS for instant first paint */
      *,*::before,*::after{box-sizing:border-box}
      html{-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent;scroll-behavior:smooth}
      body{margin:0;font-family:'Outfit',system-ui,-apple-system,sans-serif;background:#f5f4f0;color:#1a1a1a;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
      #root{min-height:100vh}
      /* Skeleton loader for hero section */
      .hero-skeleton{display:grid;grid-template-columns:repeat(4,1fr);gap:0.5rem;padding:0.5rem;height:800px;background:#fff}
      .hero-skeleton>div{background:linear-gradient(90deg,#f0f0f0 25%,#e8e8e8 50%,#f0f0f0 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}
      @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
      /* Hide content until JS loads */
      .js-loading .hero-skeleton{display:grid}
      /* Mobile skeleton */
      @media(max-width:768px){.hero-skeleton{grid-template-columns:1fr;height:auto}.hero-skeleton>div{min-height:300px}}
      /* Prevent layout shift for images */
      img{max-width:100%;height:auto}
      /* Smooth image loading transition */
      img[loading="lazy"]{opacity:0;transition:opacity 0.3s ease-in}
      img.loaded{opacity:1}
    </style>
  </head>

  <body class="js-loading">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Remove loading class once JS is ready
      document.addEventListener('DOMContentLoaded', function() {
        document.body.classList.remove('js-loading');
      });
      
      // Preload images via JavaScript for better browser support
      (function() {
        var criticalImages = [
          '/images/hero/panel-1-texture.webp',
          '/images/hero/panel-4-books.webp',
          '/images/hero/book-pages-hands.webp'
        ];
        
        criticalImages.forEach(function(src) {
          var img = new Image();
          img.fetchPriority = 'high';
          img.src = src;
        });
        
        // Preload video
        var video = document.createElement('video');
        video.preload = 'auto';
        video.src = '/images/hero/hero-video.mp4';
      })();
      
      // Mark lazy images as loaded when they finish loading
      document.addEventListener('load', function(e) {
        if (e.target.tagName === 'IMG' && e.target.loading === 'lazy') {
          e.target.classList.add('loaded');
        }
      }, true);
    </script>
    <script
      defer
      src="%VITE_ANALYTICS_ENDPOINT%/umami"
      data-website-id="%VITE_ANALYTICS_WEBSITE_ID%"></script>
  </body>

</html>
